(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16b15d67"],{"1f09":function(t,e,a){},3129:function(t,e,a){"use strict";a("a4d3"),a("4de4"),a("4160"),a("a630"),a("c975"),a("d81d"),a("e439"),a("dbb4"),a("b64b"),a("ac1f"),a("3ca3"),a("5319"),a("1276"),a("159b");var i=a("3835"),s=a("ade3"),r=(a("1f09"),a("c995")),n=a("24b2"),o=a("7560"),l=a("58df"),c=a("80d2");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e["a"]=Object(l["a"])(r["a"],n["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:u({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return u({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses,{},this.elevationClasses)},isLoading:function(){return Boolean(!Object(c["s"])(this)||this.loading)},rootTypes:function(){return u({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(t,e){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(t," v-skeleton-loader__bone")},e)},genBones:function(t){var e=this,a=t.split("@"),s=Object(i["a"])(a,2),r=s[0],n=s[1],o=function(){return e.genStructure(r)};return Array.from({length:n}).map(o)},genStructure:function(t){var e=[];t=t||this.type||"";var a=this.rootTypes[t]||"";if(t===a);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);a.indexOf(",")>-1?e=this.mapBones(a):a.indexOf("@")>-1?e=this.genBones(a):a&&e.push(this.genStructure(a))}return[this.genBone(t,e)]},genSkeleton:function(){var t=this,e=[],a=Object(c["s"])(this);return this.isLoading?e.push(this.genStructure()):e.push(a),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{enter:function(e){t.isLoading&&(e.style.transition="none")},beforeLeave:function(t){t.style.display="none"}}},e):e},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"406f":function(t,e,a){t.exports=a.p+"img/rice.a4a99af0.jpg"},5557:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",[i("v-parallax",{attrs:{src:a("406f"),height:"220"}},[i("v-layout",{staticClass:"white--text",attrs:{column:"","align-center":"","justify-center":""}},[i("img",{attrs:{src:a("8980"),alt:"Vuetify.js",height:"100"}}),i("h1",{staticClass:"shadow mb-2 font-weight-bold shadow"},[t._v("TIPS FOR PRODUCING QUALITY CROPS")]),i("div",{staticClass:"shadow subheading mb-4 text-center"},[t._v("Tips are submitted by different users of agribook")])])],1)],1),i("v-flex",{staticClass:"pl-3 pr-3"},[t.user?i("v-layout",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!0}}},[i("v-icon",{attrs:{left:""}},[t._v("fa-plus")]),i("span",[t._v("Add tips")])],1)],1):t._e(),t.loading?i("v-sheet",{staticClass:"pa-5"},[i("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card"}}),i("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card"}})],1):i("v-layout",{staticClass:"pa-2 ma-2",attrs:{row:"",wrap:""}},t._l(t.tips,(function(e,a){return i("v-flex",{key:a,staticClass:"my-1",attrs:{xs12:"",sm12:"",md12:""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs4:"",sm4:"",md2:""}},[i("v-img",{staticClass:"mx-auto my-auto",attrs:{height:"100",src:e.src}})],1),i("v-flex",{attrs:{xs8:"",sm8:"",md10:""}},[i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("div",{staticClass:"title primary--text font-weight-black"},[i("router-link",{attrs:{to:"/Tips/"+e.id}},[t._v(t._s(e.Title))])],1),i("div",{staticClass:"grey--text caption"},[i("span",{staticClass:"font-weight-bold"},[t._v("Written by:")]),t._v(" "+t._s(e.Author))]),i("div",{staticClass:"grey--text caption"},[i("span",{staticClass:"font-weight-bold"},[t._v("Date added:")]),t._v(" "+t._s(e.Date))])])])],1)],1)],1)})),1)],1),i("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("Add Tips")])],1),i("v-form",{ref:"form",staticClass:"px-3"},[i("v-card-text",[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{attrs:{label:"Title*"},model:{value:t.tip.title,callback:function(e){t.$set(t.tip,"title",e)},expression:"tip.title"}})],1),i("v-flex",{attrs:{xs12:""}},[i("v-textarea",{attrs:{"data-vv-name":"Content",label:"Content*"},model:{value:t.tip.content,callback:function(e){t.$set(t.tip,"content",e)},expression:"tip.content"}})],1),i("v-btn",{staticClass:"primary",attrs:{text:""},on:{click:t.onPickFile}},[t._v("Upload Cover Image")]),i("div",{staticClass:"red--text"},[t._v(t._s(t.imageRequired))]),i("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{"data-vv-as":"image",name:"image_field",type:"file",accept:"image/*"},on:{change:t.onFilePicked}}),i("v-flex",[i("img",{attrs:{height:"200",src:t.imageURL,alt:""}})])],1),i("small",[t._v("*indicates required field")])],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"mb-3",attrs:{text:"",color:"warning darken-1"},on:{click:t.close}},[i("span",[t._v("Cancel")])]),i("v-btn",{staticClass:"mb-3 mr-2",attrs:{loading:t.loadingBtn,text:"",color:"success darken-1"},on:{click:function(e){return t.save(t.tip)}}},[i("span",[t._v("Save")])])],1)],1)],1)],1)],1)},s=[],r=(a("baa5"),a("fb6a"),a("0d03"),a("b0c0"),a("d3b7"),a("96cf"),a("dc59")),n=(a("e71f"),a("588e"),r["a"].firestore()),o={data:function(){return{loading:!0,dialog:!1,tip:{},loadingBtn:!1,image:null,imageURL:"",imageRequired:""}},computed:{tips:function(){return this.$store.state["public-tips"]},user:function(){return this.$store.state.user}},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(this.tips.length){t.next=3;break}return t.next=3,regeneratorRuntime.awrap(this.$store.dispatch("getPublic","tips"));case 3:if(this.user){t.next=6;break}return t.next=6,regeneratorRuntime.awrap(this.$store.dispatch("user"));case 6:this.loading=!1;case 7:case"end":return t.stop()}}),null,this)},methods:{save:function(t){var e,a,i,s,o,l,c;return regeneratorRuntime.async((function(d){while(1)switch(d.prev=d.next){case 0:if(""===t.title||""===t.content){d.next=24;break}return this.loadingBtn=!0,e={Title:t.title,Author:this.user.displayName,Content:t.content,Date:Date(Date.now()),authID:this.user.uid},d.prev=3,d.next=6,regeneratorRuntime.awrap(n.collection("tips").add(e));case 6:return a=d.sent,i=a.id,s=this.image.name,o=s.slice(s.lastIndexOf(".")),d.next=12,regeneratorRuntime.awrap(r["a"].storage().ref().child("tips/"+i+o).put(this.image));case 12:return l=d.sent,d.next=15,regeneratorRuntime.awrap(r["a"].storage().ref().child(l.metadata.fullPath).getDownloadURL());case 15:return c=d.sent,d.next=18,regeneratorRuntime.awrap(r["a"].firestore().collection("tips").doc(i).update({src:c,path:l.metadata.fullPath}));case 18:this.close(),d.next=24;break;case 21:d.prev=21,d.t0=d["catch"](3),console.log(d.t0);case 24:case"end":return d.stop()}}),null,this,[[3,21]])},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var e=this,a=t.target.files,i=a[0].name;if(i.lastIndexOf(".")<=0)return alert("Please upload a valid file");var s=new FileReader;s.addEventListener("load",(function(){e.imageURL=s.result})),s.readAsDataURL(a[0]),this.image=a[0]},close:function(){this.dialog=!1,this.image=null,this.imageURL="",this.loadingBtn=!1,this.imageRequired="",this.tip=[]}}},l=o,c=a("2877"),d=a("6544"),u=a.n(d),p=a("8336"),h=a("b0af"),f=a("99d9"),g=a("169a"),v=a("0e8f"),m=a("4bd4"),b=a("132d"),x=a("adda"),y=a("a722"),w=a("8b9c"),k=a("8dd9"),C=a("3129"),O=a("2fa4"),_=a("8654"),j=a("a844"),R=a("71d9"),V=a("2a7f"),P=Object(c["a"])(l,i,s,!1,null,null,null);e["default"]=P.exports;u()(P,{VBtn:p["a"],VCard:h["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VDialog:g["a"],VFlex:v["a"],VForm:m["a"],VIcon:b["a"],VImg:x["a"],VLayout:y["a"],VParallax:w["a"],VSheet:k["a"],VSkeletonLoader:C["a"],VSpacer:O["a"],VTextField:_["a"],VTextarea:j["a"],VToolbar:R["a"],VToolbarTitle:V["a"]})}}]);
//# sourceMappingURL=chunk-16b15d67.838c5690.js.map